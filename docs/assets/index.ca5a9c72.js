(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();function Z(){}function fe(t){return t()}function le(){return Object.create(null)}function te(t){t.forEach(fe)}function me(t){return typeof t=="function"}function he(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let J;function ge(t,e){return J||(J=document.createElement("a")),J.href=e,t===J.href}function ye(t){return Object.keys(t).length===0}function g(t,e){t.appendChild(e)}function W(t,e,o){t.insertBefore(e,o||null)}function F(t){t.parentNode.removeChild(t)}function _e(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function j(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function T(){return R(" ")}function be(t,e,o,l){return t.addEventListener(e,o,l),()=>t.removeEventListener(e,o,l)}function ne(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function ve(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ee(t,e,o,l){o===null?t.style.removeProperty(e):t.style.setProperty(e,o,l?"important":"")}let X;function K(t){X=t}function we(){if(!X)throw new Error("Function called outside component initialization");return X}function Ee(t){we().$$.on_mount.push(t)}const Y=[],ie=[],V=[],se=[],ke=Promise.resolve();let oe=!1;function Oe(){oe||(oe=!0,ke.then(de))}function ae(t){V.push(t)}const re=new Set;let Q=0;function de(){const t=X;do{for(;Q<Y.length;){const e=Y[Q];Q++,K(e),Se(e.$$)}for(K(null),Y.length=0,Q=0;ie.length;)ie.pop()();for(let e=0;e<V.length;e+=1){const o=V[e];re.has(o)||(re.add(o),o())}V.length=0}while(Y.length);for(;se.length;)se.pop()();oe=!1,re.clear(),K(t)}function Se(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ae)}}const xe=new Set;function $e(t,e){t&&t.i&&(xe.delete(t),t.i(e))}function je(t,e,o,l){const{fragment:a,on_mount:s,on_destroy:f,after_update:p}=t.$$;a&&a.m(e,o),l||ae(()=>{const w=s.map(fe).filter(me);f?f.push(...w):te(w),t.$$.on_mount=[]}),p.forEach(ae)}function Me(t,e){const o=t.$$;o.fragment!==null&&(te(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Le(t,e){t.$$.dirty[0]===-1&&(Y.push(t),Oe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Pe(t,e,o,l,a,s,f,p=[-1]){const w=X;K(t);const h=t.$$={fragment:null,ctx:null,props:s,update:Z,not_equal:a,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(w?w.$$.context:[])),callbacks:le(),dirty:p,skip_bound:!1,root:e.target||w.$$.root};f&&f(h.root);let k=!1;if(h.ctx=o?o(t,e.props||{},(d,_,...y)=>{const O=y.length?y[0]:_;return h.ctx&&a(h.ctx[d],h.ctx[d]=O)&&(!h.skip_bound&&h.bound[d]&&h.bound[d](O),k&&Le(t,d)),_}):[],h.update(),k=!0,te(h.before_update),h.fragment=l?l(h.ctx):!1,e.target){if(e.hydrate){const d=ve(e.target);h.fragment&&h.fragment.l(d),d.forEach(F)}else h.fragment&&h.fragment.c();e.intro&&$e(t.$$.fragment),je(t,e.target,e.anchor,e.customElement),de()}K(w)}class Ne{$destroy(){Me(this,1),this.$destroy=Z}$on(e,o){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(o),()=>{const a=l.indexOf(o);a!==-1&&l.splice(a,1)}}$set(e){this.$$set&&!ye(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ae="/faltas/assets/demo.78d08c56.png";var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe={exports:{}};(function(t,e){(function(o,l){t.exports=l()})(Ce,function(){return(()=>{var o={870:(s,f,p)=>{p.r(f),p.d(f,{createEndpoint:()=>h,expose:()=>O,proxy:()=>B,proxyMarker:()=>w,releaseProxy:()=>k,transfer:()=>P,transferHandlers:()=>y,windowEndpoint:()=>I,wrap:()=>n});const w=Symbol("Comlink.proxy"),h=Symbol("Comlink.endpoint"),k=Symbol("Comlink.releaseProxy"),d=Symbol("Comlink.thrown"),_=r=>typeof r=="object"&&r!==null||typeof r=="function",y=new Map([["proxy",{canHandle:r=>_(r)&&r[w],serialize(r){const{port1:i,port2:$}=new MessageChannel;return O(r,i),[$,[$]]},deserialize:r=>(r.start(),n(r))}],["throw",{canHandle:r=>_(r)&&d in r,serialize({value:r}){let i;return i=r instanceof Error?{isError:!0,value:{message:r.message,name:r.name,stack:r.stack}}:{isError:!1,value:r},[i,[]]},deserialize(r){throw r.isError?Object.assign(new Error(r.value.message),r.value):r.value}}]]);function O(r,i=self){i.addEventListener("message",function $(x){if(!x||!x.data)return;const{id:C,type:z,path:M}=Object.assign({path:[]},x.data),A=(x.data.argumentList||[]).map(S);let L;try{const N=M.slice(0,-1).reduce((D,G)=>D[G],r),H=M.reduce((D,G)=>D[G],r);switch(z){case 0:L=H;break;case 1:N[M.slice(-1)[0]]=S(x.data.value),L=!0;break;case 2:L=H.apply(N,A);break;case 3:L=B(new H(...A));break;case 4:{const{port1:D,port2:G}=new MessageChannel;O(r,G),L=P(D,[D])}break;case 5:L=void 0}}catch(N){L={value:N,[d]:0}}Promise.resolve(L).catch(N=>({value:N,[d]:0})).then(N=>{const[H,D]=q(N);i.postMessage(Object.assign(Object.assign({},H),{id:C}),D),z===5&&(i.removeEventListener("message",$),b(i))})}),i.start&&i.start()}function b(r){(function(i){return i.constructor.name==="MessagePort"})(r)&&r.close()}function n(r,i){return m(r,[],i)}function c(r){if(r)throw new Error("Proxy has been released and is not useable")}function m(r,i=[],$=function(){}){let x=!1;const C=new Proxy($,{get(z,M){if(c(x),M===k)return()=>E(r,{type:5,path:i.map(A=>A.toString())}).then(()=>{b(r),x=!0});if(M==="then"){if(i.length===0)return{then:()=>C};const A=E(r,{type:0,path:i.map(L=>L.toString())}).then(S);return A.then.bind(A)}return m(r,[...i,M])},set(z,M,A){c(x);const[L,N]=q(A);return E(r,{type:1,path:[...i,M].map(H=>H.toString()),value:L},N).then(S)},apply(z,M,A){c(x);const L=i[i.length-1];if(L===h)return E(r,{type:4}).then(S);if(L==="bind")return m(r,i.slice(0,-1));const[N,H]=u(A);return E(r,{type:2,path:i.map(D=>D.toString()),argumentList:N},H).then(S)},construct(z,M){c(x);const[A,L]=u(M);return E(r,{type:3,path:i.map(N=>N.toString()),argumentList:A},L).then(S)}});return C}function u(r){const i=r.map(q);return[i.map(x=>x[0]),($=i.map(x=>x[1]),Array.prototype.concat.apply([],$))];var $}const v=new WeakMap;function P(r,i){return v.set(r,i),r}function B(r){return Object.assign(r,{[w]:!0})}function I(r,i=self,$="*"){return{postMessage:(x,C)=>r.postMessage(x,$,C),addEventListener:i.addEventListener.bind(i),removeEventListener:i.removeEventListener.bind(i)}}function q(r){for(const[i,$]of y)if($.canHandle(r)){const[x,C]=$.serialize(r);return[{type:3,name:i,value:x},C]}return[{type:0,value:r},v.get(r)||[]]}function S(r){switch(r.type){case 3:return y.get(r.name).deserialize(r.value);case 0:return r.value}}function E(r,i,$){return new Promise(x=>{const C=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");r.addEventListener("message",function z(M){M.data&&M.data.id&&M.data.id===C&&(r.removeEventListener("message",z),x(M.data))}),r.start&&r.start(),r.postMessage(Object.assign({id:C},i),$)})}},162:function(s,f,p){var w=this&&this.__createBinding||(Object.create?function(n,c,m,u){u===void 0&&(u=m),Object.defineProperty(n,u,{enumerable:!0,get:function(){return c[m]}})}:function(n,c,m,u){u===void 0&&(u=m),n[u]=c[m]}),h=this&&this.__setModuleDefault||(Object.create?function(n,c){Object.defineProperty(n,"default",{enumerable:!0,value:c})}:function(n,c){n.default=c}),k=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var c={};if(n!=null)for(var m in n)m!=="default"&&Object.prototype.hasOwnProperty.call(n,m)&&w(c,n,m);return h(c,n),c};Object.defineProperty(f,"__esModule",{value:!0}),f.createDbWorker=void 0;const d=k(p(870));async function _(n){if(n.data&&n.data.action==="eval"){const c=new Int32Array(n.data.notify,0,2),m=new Uint8Array(n.data.notify,8);let u;try{u={ok:await b(n.data.request)}}catch(P){console.error("worker request error",n.data.request,P),u={err:String(P)}}const v=new TextEncoder().encode(JSON.stringify(u));m.set(v,0),c[1]=v.length,Atomics.notify(c,0)}}function y(n){if(n.tagName==="BODY")return"body";const c=[];for(;n.parentElement&&n.tagName!=="BODY";){if(n.id){c.unshift("#"+n.id);break}{let m=1,u=n;for(;u.previousElementSibling;)u=u.previousElementSibling,m++;c.unshift(n.tagName.toLowerCase()+":nth-child("+m+")")}n=n.parentElement}return c.join(" > ")}function O(n){return Object.keys(n)}async function b(n){if(console.log("dom vtable request",n),n.type==="select")return[...document.querySelectorAll(n.selector)].map(c=>{const m={};for(const u of n.columns)u==="selector"?m.selector=y(c):u==="parent"?c.parentElement&&(m.parent=c.parentElement?y(c.parentElement):null):u==="idx"||(m[u]=c[u]);return m});if(n.type==="insert"){if(!n.value.parent)throw Error('"parent" column must be set when inserting');const c=document.querySelectorAll(n.value.parent);if(c.length===0)throw Error(`Parent element ${n.value.parent} could not be found`);if(c.length>1)throw Error(`Parent element ${n.value.parent} ambiguous (${c.length} results)`);const m=c[0];if(!n.value.tagName)throw Error("tagName must be set for inserting");const u=document.createElement(n.value.tagName);for(const v of O(n.value))if(n.value[v]!==null){if(v==="tagName"||v==="parent")continue;if(v==="idx"||v==="selector")throw Error(`${v} can't be set`);u[v]=n.value[v]}return m.appendChild(u),null}if(n.type==="update"){const c=document.querySelector(n.value.selector);if(!c)throw Error(`Element ${n.value.selector} not found!`);const m=[];for(const u of O(n.value)){const v=n.value[u];if(u!=="parent"){if(u!=="idx"&&u!=="selector"&&v!==c[u]){if(console.log("SETTING ",u,c[u],"->",v),u==="tagName")throw Error("can't change tagName");m.push(u)}}else if(v!==y(c.parentElement)){const P=document.querySelectorAll(v);if(P.length!==1)throw Error(`Invalid target parent: found ${P.length} matches`);P[0].appendChild(c)}}for(const u of m)c[u]=n.value[u];return null}throw Error(`unknown request ${n.type}`)}d.transferHandlers.set("WORKERSQLPROXIES",{canHandle:n=>!1,serialize(n){throw Error("no")},deserialize:n=>(n.start(),d.wrap(n))}),f.createDbWorker=async function(n,c,m,u=1/0){const v=new Worker(c),P=d.wrap(v),B=await P.SplitFileHttpDatabase(m,n,void 0,u);return v.addEventListener("message",_),{db:B,worker:P,configs:n}}},432:function(s,f,p){var w=this&&this.__createBinding||(Object.create?function(k,d,_,y){y===void 0&&(y=_),Object.defineProperty(k,y,{enumerable:!0,get:function(){return d[_]}})}:function(k,d,_,y){y===void 0&&(y=_),k[y]=d[_]}),h=this&&this.__exportStar||function(k,d){for(var _ in k)_==="default"||Object.prototype.hasOwnProperty.call(d,_)||w(d,k,_)};Object.defineProperty(f,"__esModule",{value:!0}),h(p(162),f)}},l={};function a(s){var f=l[s];if(f!==void 0)return f.exports;var p=l[s]={exports:{}};return o[s].call(p.exports,p,p.exports,a),p.exports}return a.d=(s,f)=>{for(var p in f)a.o(f,p)&&!a.o(s,p)&&Object.defineProperty(s,p,{enumerable:!0,get:f[p]})},a.o=(s,f)=>Object.prototype.hasOwnProperty.call(s,f),a.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a(432)})()})})(pe);function ce(t,e,o){const l=t.slice();return l[4]=e[o],l[6]=o,l}function Te(t){let e,o=t[4][0]+"",l;return{c(){e=j("td"),l=R(o)},m(a,s){W(a,e,s),g(e,l)},p(a,s){s&1&&o!==(o=a[4][0]+"")&&U(l,o)},d(a){a&&F(e)}}}function qe(t){let e,o=t[4][0]+"",l;return{c(){e=j("td"),l=R(o),ee(e,"color","red")},m(a,s){W(a,e,s),g(e,l)},p(a,s){s&1&&o!==(o=a[4][0]+"")&&U(l,o)},d(a){a&&F(e)}}}function De(t){let e=t[4][2]+"",o;return{c(){o=R(e)},m(l,a){W(l,o,a)},p(l,a){a&1&&e!==(e=l[4][2]+"")&&U(o,e)},d(l){l&&F(o)}}}function He(t){let e,o=t[4][2]+"",l,a,s;return{c(){e=j("a"),l=R(o),ee(e,"cursor","pointer")},m(f,p){W(f,e,p),g(e,l),a||(s=be(e,"click",t[3]),a=!0)},p(f,p){p&1&&o!==(o=f[4][2]+"")&&U(l,o)},d(f){f&&F(e),a=!1,s()}}}function ue(t){let e,o,l,a=t[4][1]+"",s,f,p,w;function h(b,n){return b[4][2]>10?qe:Te}let k=h(t),d=k(t);function _(b,n){return b[4][2]>10?He:De}let y=_(t),O=y(t);return{c(){e=j("tr"),d.c(),o=T(),l=j("td"),s=R(a),f=T(),p=j("td"),O.c(),w=T(),ee(l,"text-align","center"),ee(p,"text-align","right")},m(b,n){W(b,e,n),d.m(e,null),g(e,o),g(e,l),g(l,s),g(e,f),g(e,p),O.m(p,null),g(e,w)},p(b,n){k===(k=h(b))&&d?d.p(b,n):(d.d(1),d=k(b),d&&(d.c(),d.m(e,o))),n&1&&a!==(a=b[4][1]+"")&&U(s,a),y===(y=_(b))&&O?O.p(b,n):(O.d(1),O=y(b),O&&(O.c(),O.m(p,null)))},d(b){b&&F(e),d.d(),O.d()}}}function ze(t){let e,o,l,a,s,f,p,w,h,k,d,_,y,O,b,n,c,m,u,v,P,B,I,q=t[0],S=[];for(let E=0;E<q.length;E+=1)S[E]=ue(ce(t,q,E));return{c(){e=j("main"),o=j("center"),l=j("img"),s=T(),f=j("h2"),p=R("Aulas registadas: "),w=R(t[1]),h=T(),k=j("blockquote"),k.innerHTML='Faltas escessivas segundo a <a href="https://www.pgdlisboa.pt/leis/lei_mostra_articulado.php?artigo_id=1793A0018&amp;nid=1793&amp;tabela=leis&amp;pagina=1&amp;ficha=1&amp;so_miolo=&amp;nversao=">Lei n.\xBA 51/2012 Artigo 18 1\xBA Ponto Al\xEDnea a</a> aparecem a vermelho!',d=T(),_=j("table"),y=j("thead"),y.innerHTML=`<tr><th>Deputado</th> 
        <th style="text-align: center;">Bancada</th> 
        <th style="text-align: right;">Faltas</th></tr>`,O=T(),b=j("tbody");for(let E=0;E<S.length;E+=1)S[E].c();n=T(),c=j("br"),m=T(),u=j("hr"),v=T(),P=j("p"),P.innerHTML=`Feito com \u2764 por <a href="https:luissilva.eu">Lu\xEDs Silva</a> podes consultar
    o c\xF3digo-fonte da p\xE1gina <a href="#todo">aqui</a>.`,B=T(),I=j("p"),I.textContent=`Obviamente que isto pode ter erros e como tal, n\xE3o levem isto muito a peito.
    Mandem mail para resolver \u{1F48C}`,ge(l.src,a=Ae)||ne(l,"src",a),ne(l,"alt","presidente da assembleia da republica com um livro de presen\xE7as"),ne(I,"class","read-the-docs svelte-c9fbf7")},m(E,r){W(E,e,r),g(e,o),g(o,l),g(e,s),g(e,f),g(f,p),g(f,w),g(e,h),g(e,k),g(e,d),g(e,_),g(_,y),g(_,O),g(_,b);for(let i=0;i<S.length;i+=1)S[i].m(b,null);g(e,n),g(e,c),g(e,m),g(e,u),g(e,v),g(e,P),g(e,B),g(e,I)},p(E,[r]){if(r&2&&U(w,E[1]),r&5){q=E[0];let i;for(i=0;i<q.length;i+=1){const $=ce(E,q,i);S[i]?S[i].p($,r):(S[i]=ue($),S[i].c(),S[i].m(b,null))}for(;i<S.length;i+=1)S[i].d(1);S.length=q.length}},i:Z,o:Z,d(E){E&&F(e),_e(S,E)}}}function Re(t,e,o){let l=[],a=0;Ee(async()=>{console.log("pila");const p=await pe.exports.createDbWorker([{from:"inline",config:{serverMode:"full",requestChunkSize:4096,url:"falta.db"}}],"/faltas/sqlite.worker.js","/faltas/sql-wasm.wasm",10*1024*1024),w=await p.db.exec("SELECT name, party, COUNT(*) FROM registry WHERE presence == 0 GROUP BY name, party ORDER BY COUNT(*) DESC;");o(0,l=w[0].values),console.log(l);const h=await p.db.exec("SELECT COUNT(DISTINCT date) FROM registry;");console.log(h),o(1,a=h[0].values[0])});let s=()=>{alert("demo")};return[l,a,s,()=>{s()}]}class Be extends Ne{constructor(e){super(),Pe(this,e,Re,ze,he,{})}}new Be({target:document.getElementById("app")});
